"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[245],{9245:function(e,t,n){n.r(t),n.d(t,{Contacts:function(){return te},default:function(){return ne}});var a=n(9439),r=n(2791),s=n(9434),o=n(1634),i=n(3853),l=n(6856),c="Form_form__e1yzW",u="Form_iconSpan__49o47",m="Form_formLabel__alHO0",d="Form_input__FTtTw",_="Form_imageLabel__58gHn",f="Form_icon__zEIiB",h="Form_imageInput__sG6S2",p="Form_button__8NOIT",v="Form_photo__4Kxdb",x=n(2196),b=n(184),g=function(e){var t=e.toggleModal,n=(0,s.v9)((function(e){return e.contactsDBCombine})).contacts,o=(0,s.v9)((function(e){return e.filterCombine})).selectedUser,g=o.id,j=o.name,N=o.number,C=o.url,I=o.action,L=(0,s.I0)(),y=(0,r.useState)(j),w=(0,a.Z)(y,2),F=w[0],k=w[1],E=(0,r.useState)(N),M=(0,a.Z)(E,2),S=M[0],T=M[1],z=(0,r.useState)(C),A=(0,a.Z)(z,2),B=A[0],O=A[1];return(0,b.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),"Add"===I&&function(e){var t=function(e,t){var n=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===n}))}(e.name,n);t?alert("".concat(t.name," is already in contacts !")):L((0,x._U)(e))}({name:F,number:S,url:B}),"Edit"===I&&(a={id:g,name:F,number:S,url:B},L((0,x.W3)(a))),t()},className:c,autoComplete:"off",children:[(0,b.jsx)("span",{className:u,children:B?(0,b.jsx)("img",{className:v,src:B,alt:"User portrait"}):(0,b.jsx)(i.fzv,{})}),(0,b.jsx)("label",{className:m,children:(0,b.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:F,onChange:function(e){k(e.currentTarget.value)},className:d,placeholder:"Name"})}),(0,b.jsx)("label",{className:m,children:(0,b.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:S,onChange:function(e){T(e.currentTarget.value)},className:d,placeholder:"Number"})}),(0,b.jsxs)("label",{className:_,children:[(0,b.jsx)(l.Kuy,{className:f}),(0,b.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:h,onChange:function(e){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(){O(n.result)}}})]}),(0,b.jsx)("button",{className:p,type:"submit",children:I})]})},j=n(4691),N="ContactList_contactList__UFVCg",C="ContactList_contactListUl__H+yFe",I="ListItem_listItem__POSh4",L="ListItem_imageThumb__Eec-4",y="ListItem_favoriteBorderIcon__ME4Dm",w="ListItem_favoriteIcon__Qnsa3",F="ListItem_dataBox__SmNq0",k="ListItem_pName__pIS+q",E="ListItem_pNumber__5gwYl",M="ListItem_button__6KOfW",S="ListItem_callIcon__0sjQf",T="ListItem_removeIcon__9qhcz",z="ListItem_photoDemo__+09+G",A=n(458),B=n(6355),O=function(e){var t=e.id,n=e.name,i=e.number,c=e.url,u=e.deleteContact,m=e.toggleModal,d=(0,r.useState)(!1),_=(0,a.Z)(d,2),f=_[0],h=_[1],p=(0,s.I0)();return(0,b.jsxs)("li",{className:I,onClick:function(e){var a=e.target.tagName;"LI"!==a&&"P"!==a||(m(),p((0,o.r0)({id:t,name:n,number:i,url:c,action:"Edit"})))},children:[(0,b.jsxs)("div",{className:L,onClick:function(){h(!f)},children:[c&&(0,b.jsx)("img",{className:z,src:c,alt:"User portrait"}),f?(0,b.jsx)(l.Yqy,{className:w}):(0,b.jsx)(l.iqB,{className:y})]}),(0,b.jsxs)("div",{className:F,children:[(0,b.jsx)("p",{className:k,children:n}),(0,b.jsx)("p",{className:E,children:i})]}),(0,b.jsx)("button",{className:M,type:"button",children:(0,b.jsx)(B.I7T,{className:S})}),(0,b.jsx)("button",{onClick:function(){return u(t)},className:M,type:"button",children:(0,b.jsx)(A.wAo,{className:T})})]})},U=function(e){return e.contactsDBCombine},Z=function(e){return e.filterCombine},q=function(e){var t=e.toggleModal,n=(0,s.I0)(),a=(0,s.v9)(U),o=a.contacts,i=a.error,l=a.isLoading,c=(0,s.v9)(Z).filter;(0,r.useEffect)((function(){n((0,x.Tt)())}),[n]);var u=function(e){n((0,x.z6)(e))};return(0,b.jsxs)("div",{className:N,children:[(0,b.jsx)("ul",{className:C,children:function(){var e=null===c||void 0===c?void 0:c.toLowerCase();return o.filter((function(t){var n;return null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}().map((function(e){var n=e.id,a=e.name,r=e.number,s=e.url;return(0,b.jsx)(O,{id:n,name:a,number:r,url:s,deleteContact:u,toggleModal:t},n)}))}),i&&(0,b.jsx)("h4",{children:i}),l&&(0,b.jsx)("p",{children:(0,b.jsx)(j.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})]})},D="Filter_panel__zlfTk",P="Filter_label__vEd1E",J="Filter_input__N7T3z",K="Filter_searchPic__P7Cl2",W="Filter_modalOpen__8iLEA",H=n(3728),V=n(6036),Y=function(e){var t=e.onModalOpen,n=(0,s.I0)(),a=(0,s.v9)((function(e){return e.filterCombine})).filter;return(0,b.jsxs)("div",{className:D,children:[(0,b.jsxs)("label",{className:P,children:[(0,b.jsx)("input",{onChange:function(e){n((0,o.Tv)(e.target.value))},className:J,value:a,type:"text",placeholder:"Search by Name"}),(0,b.jsx)("span",{className:K,children:(0,b.jsx)(H.Vph,{})})]}),(0,b.jsx)("span",{onClick:function(){return t()},className:W,type:"button",children:(0,b.jsx)(V.L0J,{})})]})},G=n(4164),Q="Modal_Overlay__yoxbg",R="Modal_Modal__I1UYJ",$=document.getElementById("modal-root"),X=function(e){var t=e.children,n=e.onClose;(0,r.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,G.createPortal)((0,b.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&n()},className:Q,children:(0,b.jsx)("div",{className:R,children:t})}),$)},ee="Contacts_contacts__gVK0J",te=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],i=t[1],l=(0,s.I0)(),c=function(){i((function(e){return!e})),l((0,o.r0)({name:"",number:"",url:"",action:"Add"}))};return(0,b.jsxs)("div",{className:ee,children:[(0,b.jsx)(Y,{onModalOpen:c}),(0,b.jsx)(q,{toggleModal:c}),n&&(0,b.jsx)(X,{onClose:c,children:(0,b.jsx)(g,{toggleModal:c})})]})},ne=te}}]);
//# sourceMappingURL=245.a02e5d60.chunk.js.map