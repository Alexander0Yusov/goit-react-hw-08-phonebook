"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[245],{9245:function(e,t,a){a.r(t),a.d(t,{Contacts:function(){return te},default:function(){return ae}});var n=a(9439),s=a(2791),o=a(9434),r=a(1634),i=a(3853),c=a(6856),l="Form_form__e1yzW",m="Form_iconSpan__49o47",u="Form_formLabel__alHO0",d="Form_input__FTtTw",_="Form_imageLabel__58gHn",v="Form_icon__zEIiB",p="Form_imageInput__sG6S2",f="Form_imageWarningSpan__LbjjH",h="Form_button__8NOIT",x="Form_photo__4Kxdb",g=a(9109),j=a(4768),b=a(184),N=function(e){var t=e.toggleModal,a=(0,o.v9)(j.el).contacts,r=(0,o.v9)(j.S7).selectedUser,N=r.id,F=r.name,I=r.number,L=r.url,C=r.isFavorite,y=r.action,w=(0,o.I0)(),k=(0,s.useState)(F),S=(0,n.Z)(k,2),E=S[0],M=S[1],T=(0,s.useState)(I),z=(0,n.Z)(T,2),A=z[0],O=z[1],Z=(0,s.useState)(L),q=(0,n.Z)(Z,2),B=q[0],H=q[1];return(0,b.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),"Add"===y&&function(e){var t=function(e,t){var a=e.toLowerCase();return t.find((function(e){return e.name.toLowerCase()===a}))}(e.name,a);t?alert("".concat(t.name," is already in contacts !")):w((0,g.Rx)(e))}({name:E,number:"".concat(A,"|-|").concat(B,"|-|notFavorite")}),"Edit"===y&&(n={id:N,name:E,number:"".concat(A,"|-|").concat(B,"|-|").concat(C)},w((0,g.uH)(n))),t()},className:l,autoComplete:"off",children:[(0,b.jsx)("span",{className:m,children:B?(0,b.jsx)("img",{className:x,src:B,alt:"User portrait"}):(0,b.jsx)(i.fzv,{})}),(0,b.jsx)("label",{className:u,children:(0,b.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:E,onChange:function(e){M(e.currentTarget.value)},className:d,placeholder:"Name"})}),(0,b.jsx)("label",{className:u,children:(0,b.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:A,onChange:function(e){O(e.currentTarget.value)},className:d,placeholder:"Number"})}),(0,b.jsxs)("label",{className:_,children:[(0,b.jsx)(c.Kuy,{className:v}),(0,b.jsx)("input",{type:"file",name:"image",accept:"image/*,.png,.jpg,.gif,.web",className:p,onChange:function(e){var t=e.target.files[0],a=new FileReader;a.readAsDataURL(t),a.onload=function(){H(a.result)}}}),(0,b.jsx)("span",{className:f,children:"max 70KB"})]}),(0,b.jsx)("button",{className:h,type:"submit",children:y})]})},F=a(4691),I="ContactList_contactList__UFVCg",L="ContactList_contactListUl__H+yFe",C="ListItem_listItem__POSh4",y="ListItem_imageThumb__Eec-4",w="ListItem_favoriteBorderIcon__ME4Dm",k="ListItem_favoriteIcon__Qnsa3",S="ListItem_dataBox__SmNq0",E="ListItem_pName__pIS+q",M="ListItem_pNumber__5gwYl",T="ListItem_button__6KOfW",z="ListItem_callIcon__0sjQf",A="ListItem_removeIcon__9qhcz",O="ListItem_photoDemo__+09+G",Z=a(458),q=a(6355),B=function(e){var t=e.id,a=e.name,i=e.number,l=e.url,m=e.isFavorite,u=e.toggleModal,d=(0,s.useState)(m),_=(0,n.Z)(d,2),v=_[0],p=_[1],f=(0,o.I0)();return(0,b.jsxs)("li",{className:C,onClick:function(e){var n=e.target.tagName;"LI"!==n&&"P"!==n||(u(),f((0,r.r0)({id:t,name:a,number:i,url:l,isFavorite:v,action:"Edit"})))},children:[(0,b.jsxs)("div",{className:y,onClick:function(){if("isFavorite"===v)return f((0,g.uH)({id:t,name:a,number:"".concat(i,"|-|").concat(l,"|-|notFavorite")})),void p("notFavorite");f((0,g.uH)({id:t,name:a,number:"".concat(i,"|-|").concat(l,"|-|isFavorite")})),p("isFavorite")},children:[l&&(0,b.jsx)("img",{className:O,src:l,alt:"User portrait"}),"isFavorite"===v?(0,b.jsx)(c.Yqy,{className:k}):(0,b.jsx)(c.iqB,{className:w})]}),(0,b.jsxs)("div",{className:S,children:[(0,b.jsx)("p",{className:E,children:a}),(0,b.jsx)("p",{className:M,children:i})]}),(0,b.jsx)("button",{className:T,type:"button",children:(0,b.jsx)(q.I7T,{className:z})}),(0,b.jsx)("button",{onClick:function(){f((0,g.xX)(t))},className:T,type:"button",children:(0,b.jsx)(Z.wAo,{className:A})})]})},H=function(e){var t,a=e.toggleModal,n=(0,o.I0)(),r=(0,o.v9)(j.el),i=r.contacts,c=r.isLoading,l=(0,o.v9)(j.S7).filter;(0,s.useEffect)((function(){n((0,g.m$)())}),[n]);return(0,b.jsxs)("div",{className:I,children:[(0,b.jsx)("ul",{className:L,children:null===(t=function(){var e=null===l||void 0===l?void 0:l.toLowerCase();return null===i||void 0===i?void 0:i.filter((function(t){var a;return null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e)})).sort((function(e,t){return e.name.localeCompare(t.name)}))}())||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.name,s=e.number;return(0,b.jsx)(B,{id:t,name:n,number:s.split("|-|")[0],url:s.split("|-|")[1],isFavorite:s.split("|-|")[2],toggleModal:a},t)}))}),c&&(0,b.jsx)("p",{children:(0,b.jsx)(F.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})})]})},U="Filter_panel__zlfTk",P="Filter_label__vEd1E",D="Filter_input__N7T3z",K="Filter_searchPic__P7Cl2",J="Filter_modalOpen__8iLEA",W=a(3728),R=a(6036),V=function(e){var t=e.onModalOpen,a=(0,o.I0)(),n=(0,o.v9)(j.S7).filter;return(0,b.jsxs)("div",{className:U,children:[(0,b.jsxs)("label",{className:P,children:[(0,b.jsx)("input",{onChange:function(e){a((0,r.Tv)(e.target.value))},className:D,value:n,type:"text",placeholder:"Search by Name"}),(0,b.jsx)("span",{className:K,children:(0,b.jsx)(W.Vph,{})})]}),(0,b.jsx)("span",{onClick:function(){return t()},className:J,type:"button",children:(0,b.jsx)(R.L0J,{})})]})},Y=a(4164),G="Modal_Overlay__yoxbg",Q="Modal_Modal__I1UYJ",$=document.getElementById("modal-root"),X=function(e){var t=e.children,a=e.onClose;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return(0,Y.createPortal)((0,b.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&a()},className:G,children:(0,b.jsx)("div",{className:Q,children:t})}),$)},ee="Contacts_contacts__gVK0J",te=function(){var e=(0,s.useState)(!1),t=(0,n.Z)(e,2),a=t[0],i=t[1],c=(0,o.I0)(),l=function(){i((function(e){return!e})),c((0,r.r0)({name:"",number:"",url:"",action:"Add"}))};return(0,b.jsxs)("div",{className:ee,children:[(0,b.jsx)(V,{onModalOpen:l}),(0,b.jsx)(H,{toggleModal:l}),a&&(0,b.jsx)(X,{onClose:l,children:(0,b.jsx)(N,{toggleModal:l})})]})},ae=te}}]);
//# sourceMappingURL=245.138a8b34.chunk.js.map